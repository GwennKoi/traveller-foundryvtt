<section class="grid grid-3col">
{{#each data.skills as |skill key|}}
    {{#if (isChaShown ../data skill.requires)}}
        {{#if ../data/settings.onlyBackground}}
            {{#if skill.background}}
                <div class="resource flex-group-left">
                    <div>
                        <input type="checkbox" class="trained" name="data.skills.{{key}}.trained" {{checked skill.trained}} data-dtype="Boolean" />
                        <label for="data.skills.{{key}}.value" class="resource-label" style="width: 96px; font-weight: normal">{{skill.label}}</label>
                        ({{defaultSkill ../data}})
                    </div>
                </div>
            {{/if}}
        {{else if skill.trained}}
            <div class="resource flex-group-left">
                <div>
                    <input type="checkbox" class="trained" name="data.skills.{{key}}.trained" {{checked skill.trained}} data-dtype="Boolean" />
                    <label for="data.skills.{{key}}.value" class="resource-label skill-label rollable" data-roll="2d6+@{{skill.default}}+{{skill.value}}" data-label="{{skill.label}}">{{skill.label}}</label>
                    {{#if skill.specialities}}
                        <input type="text" value="0" data-dtype="Number" class="skill-fixed" readonly/>
                        {{#each skill.specialities as |spec i|}}
                            {{if spec.value > 0}}
                                <br/>
                                <label class="skill-label specialisation">{{spec.label}}</label>
                                <input type="text" name="data.skills.{{key}}.specialities.{{i}}.value" value="{{spec.value}}" data-dtype="Number" class="skill-level"/>
                            {{else if ../data/settings.hideUntrained}}
                            {{else}}
                                <br/>
                                <label class="skill-label specialisation">{{spec.label}}</label>
                                <input type="text" name="data.skills.{{key}}.specialities.{{i}}.value" value="{{spec.value}}" data-dtype="Number" class="skill-level"/>
                            {{/if}}
                        {{/each}}

                    {{else}}
                        <input type="text" name="data.skills.{{key}}.value" value="{{skill.value}}" data-dtype="Number" class="skill-level"/>
                    {{/if}}
                </div>
            </div>
        {{else if ../data/settings.hideUntrained}}
        {{else}}
            <div class="resource flex-group-left">
                <div>
                    <input type="checkbox" class="trained" name="data.skills.{{key}}.trained" {{checked skill.trained}} data-dtype="Boolean" />
                    <label for="data.skills.{{key}}.value" class="resource-label skill-label untrained">{{skill.label}}</label>
                    <input type="text" value="{{defaultSkill ../data}}" data-dtype="Number" class="skill-fixed" readonly/>
                </div>
            </div>
        {{/if}}
    {{/if}}
{{/each}}

</section>
